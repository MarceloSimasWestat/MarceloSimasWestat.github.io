<!DOCTYPE html>
<!--
    Hyperspace by Pixelarity
    pixelarity.com @pixelarity
    License: pixelarity.com/license
-->
<html lang="en-us">
<head>
    <title>OELA Data Story 2</title>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
    <!--<link rel="stylesheet" href="widgets.css" />-->
    <!-- <link rel="stylesheet" href="assets/css/chart-styles.css" /> -->
    <link rel="stylesheet" href="assets/css/loader.css" />

    <!-- browser tab icon (aka favicon) -->
    <link rel="icon" href="images/doelogo_rev.png" />

    <!-- Scripts -->
    <!--<script src="widgets.js"></script>-->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/skel.min.js"></script>
    <script src="assets/js/util.js"></script>
    <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
    <script src="assets/js/main.js"></script>

    <!-- Substitutes high-res images for Retina displays (html file only) -->
    <script type="text/javascript" src="assets/js/retina.js"></script>

    <script src="assets/js/d3.v3.min.js"></script>
    <script src="assets/js/d3-tip.js"></script>
    <script src="assets/js/graph-scroll.js"></script>

    <script src="assets/js/chart-functions.js"></script>
    <script src="assets/js/sankey.js"></script>

    <script src="assets/js/queue.v1.min.js"></script>
    <script src="assets/js/topojson.v1.min.js"></script>

</head>
<body>

    <div id="loader-wrapper">
        <div id="loader"></div>
        <div class="loader-section"></div>
    </div>

    <!-- Sidebar -->
    <section id="sidebar">
        <div class="inner">

            <div class="nav-image">
                <img src="images/edsealbw.svg" alt="U.S. Department of Education" />
            </div>

            <div class="nav-wrapper">
                <nav>
                    <ul style="margin-bottom: 1.5em;">
                        <li><a href="#intro">Introduction</a></li>
                        <li><a href="#one">Early Learning</a></li>
                        <li><a href="#two">Advanced Coursework</a></li>
                        <!--<li><a href="#mapHead">ELs Mapped</a></li>-->
                        <li><a href="#three">Dual Enrollment</a></li>
                        <!--<li><a href="#four">Conclusion</a></li>-->
                        <li><a href="#five">Conclusion</a></li>
                    </ul>
                </nav>
                <ul class="icons socialmedia" style="margin-bottom: 0;">
                    <li><a href="#" target="_blank" title="Tweet" class="fa-twitter"><span class="label">Twitter</span></a></li>
                    <li><a href="#" target="_blank" title="Share on Facebook" class="fa-facebook"><span class="label">Facebook</span></a></li>
                    <li><a href="#" target="_blank" title="Share on LinkedIn" class="fa-linkedin"><span class="label">LinkedIn</span></a></li>
                    <li><a href="#" target="_blank" title="Email" class="fa-envelope"><span class="label">Email</span></a></li>
                </ul>
            </div>

            <!-- Given Flex, this allows the social media icons to be paired with the navigation links without hugging the bottom -->
            <div>
                &nbsp;
            </div>
        </div>
    </section>

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Intro 1 -->
        <section id="intro" class="wrapper style1 fullscreen fade-up">
            <div class="inner">
                <h1 style="max-width: 650px;">OELA Data Story 2<br></h1>
                <p style="font-size:15pt">Subtitle</p>
                <ul class="actions">
                    <li><span class="buttonInactive">— U.S. Department of Education</span></li>
                </ul>
            </div>
        </section>

        <!-- InformED Shouout -->
        <!--<section class="wrapper style5">
            <div class="inner align-center" style="padding-top: 40px; padding-bottom: 20px;">
                <div>
                    <i class="fa fa-bolt fa-lg" style="margin-bottom: 1em; color: rgba(255,255,255,1);"></i>
                </div>
                <p>Powered by InformED and the <a href="http://www2.ed.gov/about/offices/list/ocr/docs/crdc-2013-14.html" target="_blank">2013-14 Civil Rights Data Collection.</a></p>
            </div>
        </section>-->
        <!-- Intro 2 -->

        <!--<section class="wrapper style3">
            <div class="inner">

                <div class="align-right">
                    <div style="margin-bottom: 2.5em;">
                        <input type="checkbox" id="highContrast" name="highContrast">
                        <label for="highContrast">Enable High Contrast (508)</label>
                    </div>
                </div>

                <h2 class="line">Introduction</h2>
                <p class="afterHeader">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
                <p style="margin-bottom:3.5em;">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
                <div class="disclaimer">
                    <div style="display: table-row; width: 100%;">
                        <div style="display: table-cell; vertical-align: middle; width: 10%;">
                            <div class="icon"><span class="left icon fa-bar-chart-o"></span></div>
                        </div>
                        <div class="right">
                            Note: Data included in this story may differ slightly from data in other published reports due to certain data decisions. <a href="#datanotes">More information</a>.
                        </div>
                    </div>
                </div>
                <p></p>
                <div class="disclaimer">
                    <div style="display: table-row; width: 100%;">
                        <div style="display: table-cell; vertical-align: middle; width: 10%;">
                            <div class="icon"><span class="left icon fa-mouse-pointer"></span></div>
                        </div>
                        <div class="right">
                            The charts are interactive. Hover over or click on chart elements to learn more about specific data points and, where they appear, use buttons to filter or sort charts by select groups.
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <section id="intro_chart" class="wrapper image1">
            <div id="intro_sections" class="inner align-center">
                <div></div>
                <div id="counter_pre"></div>
                <div id="counter" style="max-width: 825px; margin-bottom: 50px;"></div>
            </div>
        </section>-->

        <!-- One -->

        <section id="one" class="wrapper style1">
            <div class="inner">
                <h2 class="line">Access to and Usage of Early Learning</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
            </div>
        </section>

        <section id="one_chart" class="wrapper chart">
            <div id="one_sections" class="inner">
                <div class="align-center">
                    <img class="barChart-icon" src="images/barIcon_chartArea.svg" alt="Bar Chart Icon" />
                </div>
                <div style="margin-bottom: 1.5em" class="chart"></div>
                <div></div>
                <div id="ch1_1"></div>
                <p style="margin-top:1.5em; margin-bottom: 3.5em;">
                    In comparison with non-ELs, ELs were slightly more likely to have access to preschool programs in 2013–14. Ninety-three percent of ELs enrolled in schools offering pre-K through Grade 2 were enrolled in districts that provided preschool programs or services, compared to 89 percent of non-ELs. ELs were also more likely to have access to free preschool programs and full-day preschool programs than non-ELs; 87 percent of the ELs enrolled in schools offering pre-K through Grade 2 were enrolled in districts offering free preschool programs compared to 81 percent of non-ELs, while 59 percent of ELs were enrolled in districts that provide full-day preschool programs compared to 55 percent of non-ELs.
                </p>
                <div id="ch1_2"></div>
                <p style="margin-top:1.5em; margin-bottom: 3.5em;">
                    Although ELs had greater access to preschool programs in 2013–14, a lower percentage of ELs enrolled in preschool compared to non-ELs. In 2013–14, 13 percent of preschool-aged ELs enrolled in preschool, while 19 percent of preschool-aged non-ELs were enrolled in preschool.
                </p>
                <div id="ch1_3"></div>
                <p style="margin-top:1.5em; margin-bottom: 3.5em;">
                    Among the EL and non-EL preschoolers in 2013–14, similar percentages of were enrolled in districts that offer free preschool and full-day preschool. For both groups of students, more than 90 percent were enrolled in districts that offer free preschool, while about two-thirds were enrolled in districts that offer full-day preschool.
                </p>
                <div id="ch1_4"></div>
                <p style="margin-top:1.5em; margin-bottom: 3.5em;">
                    In 2013–14, 12 percent of preschoolers were ELs. The percentage did not vary considerably the cost of programs offered by the district or the length of programs offered by the district, except in districts that offered preschool at cost only. In those districts, ELs were only four percent of the total preschoolers enrolled.
                </p>
                <div></div>
            </div>
        </section>

        <!-- Two -->

        <section id="two" class="wrapper style3">
            <div class="inner">
                <h2 class="line">Advanced Coursework</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
            </div>
        </section>

        <section id="two_chart" class="wrapper chart">
            <div id="two_sections" class="inner">
                <div class="align-center">
                    <img class="barChart-icon" src="images/barIcon_chartArea.svg" alt="Bar Chart Icon" />
                </div>
                <div style="margin-bottom: 1.5em" class="chart"></div>
                <div></div>
                <div id="ch2_1"></div>
                <p style="margin-top:1.5em; margin-bottom: 3.5em;">
                    More than 60 percent of middle schools offered Algebra 1, while more than 60 percent of high schools offered Physics and Chemistry and slightly less than 50 percent of high schools offered Calculus. Across these subjects, the percentage of schools offering the course decreased as the concentration of ELs in the school increased, indicating that ELs were less likely to be able to access advanced courses. For example, more than 70 percent of middle schools with low concentrations of ELs offered Algebra I, while only 55 percent of middle schools with high concentrations of ELs did so. Similarly, 77 percent of low EL concentration high schools offered physics compared to 41 percent of high EL concentration high schools, while 87 percent of low EL concentration high schools offered chemistry compared to 51 percent of high EL concentration high schools. For Calculus, 66 percent of low EL concentration high schools offered the course, compared to just 28 percent of high EL concentration high schools.
                </p>
                <div id="ch2_2"></div>
                <p style="margin-top:1.5em; margin-bottom: 3.5em;">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
            </div>
        </section>

        <!-- Map -->

        <!--<section id="mapHead" class="wrapper style3">
            <div class="inner">
                <h2 class="line">English Learners Mapped</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
                <div class="disclaimer">
                    <div style="display: table-row; width: 100%;">
                        <div style="display: table-cell; vertical-align: middle; width: 10%;">
                            <div class="icon"><span class="legendPointer icon fa-mouse-pointer"></span></div>
                        </div>
                        <div class="legendExplain">
                            Hover over school districts for information, double-click to zoom in, and select a range from the legend to see specific views of the data. Select the buttons above the legend to toggle between the map for the percentage of students who are ELs in 2014–15 and the map for the percentage change in the number of ELs enrolled in an English language instruction educational program in 2009–10 and 2014–15. Select the buttons below the map to toggle between percentages for elementary and unified school districts, and independent elementary, secondary, and unified districts.
                        </div>
                    </div>
                </div>
            </div>
        </section>-->

        <!-- EL Map // The Maps -->
        <!--<section class="wrapper chart">
            <div class="inner" style="padding-bottom: 0em;">

                <div id="mapButtonWrapper" class="mapEnglishLearners">
                    <button id="englishLearnersButton" class="mapHeaderButton selectedMapButton">English learners (2014–15)</button>
                    <button id="percentChangeButton" class="mapHeaderButton deselectedMapButton">Percent change (2009–10 to 2014–15)</button>
                </div>-->

                <!-- Spinner loader (see loader.css) -->
                <!--<div class="loader">Loading...</div>

                <div id="mapWrapper">-->

                    <!-- MAP #1 (left toggle) -->
                    <!--<div id="percentLegend" class="legend" style="display: none;">
                        <h3 class="title">Percentage of students who are English learners <span class="nowrap">(2014–15)</span></h3>
                        <div class="legendContainer">

                            <div class="legendButtonWrapper">
                                <div data-value="#9e9ac8" class="legendButton">
                                    <div style="background-color: #9e9ac8;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        No EL students
                                    </div>
                                </div>
                                <div data-value="#756bb1" class="legendButton">
                                    <div style="background-color: #756bb1;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        Low
                                        <br>
                                        (&gt;0% to &lt;5%)
                                    </div>
                                </div>
                                <div data-value="#54278f" class="legendButton">
                                    <div style="background-color: #54278f;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        Medium
                                        <br>
                                        (5% to &lt;20%)
                                    </div>
                                </div>
                                <div data-value="#340d67" class="legendButton">
                                    <div style="background-color: #340d67;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        High
                                        <br>
                                        (&gt;=20%)
                                    </div>
                                </div>
                                <div style="clear: both;"></div>
                            </div>


                        </div>

						   <div class="innerLegend">
                                <div data-value="gray" class="legendButton null" style="float: none; margin: auto;">
                                    <div style="background-color: gray;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        NULL*
                                    </div>
                                </div>
                                <div style="clear: both;"></div>
                            </div>-->

                        <!-- end legendContainer -->
                    <!--</div>-->
                    <!-- end legend 1 -->
                    <!-- MAP #2 (right toggle) -->
                    <!--<div id="percentChangeLegend" class="legend" style="display: none;">
                        <h3 class="title">Percentage change in the number of ELs enrolled in an English language instruction educational program,
							<span class="nowrap">2009–10</span> to
							<span class="nowrap">2014–15</span>
						</h3>

                        <div class="legendContainer">

                            <div class="legendButtonWrapper">
                                <div data-value="#08519c" class="legendButton">
                                    <div style="background-color: #08519c;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        &gt; 50% decrease
                                    </div>
                                </div>
                                <div data-value="#6baed6" class="legendButton">
                                    <div style="background-color: #6baed6;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        25-50% decrease
                                    </div>
                                </div>
                                <div data-value="#c6dbef" class="legendButton">
                                    <div style="background-color: #c6dbef;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        &lt; 25% decrease
                                    </div>
                                </div>
                                <div data-value="#9e9ac8" class="legendButton">
                                    <div style="background-color: #9e9ac8;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        No change
                                    </div>
                                </div>
                                <div data-value="#756bb1" class="legendButton">
                                    <div style="background-color: #756bb1;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        &lt; 25% increase
                                    </div>
                                </div>
                                <div data-value="#54278f" class="legendButton">
                                    <div style="background-color: #54278f;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        25-50% increase
                                    </div>
                                </div>
                                <div data-value="#340d67" class="legendButton">
                                    <div style="background-color: #340d67;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        &gt;50% increase
                                    </div>
                                </div>
                                <div style="clear: both;"></div>
                            </div>


                        </div>

						<div class="innerLegend">
                                <div data-value="#404040" class="legendButton null">
                                    <div style="background-color: #404040;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        Few or no ELs
                                    </div>
                                </div>
                                <div data-value="gray" class="legendButton null">
                                    <div style="background-color: gray;" class="legendButtonColor">
                                        <hr class="verticalLine">
                                    </div>
                                    <div class="legendText">
                                        NULL*
                                    </div>
                                </div>
                                <div style="clear: both;"></div>
                            </div>-->

                        <!-- end legendContainer -->
                    <!--</div>-->
                    <!-- end legend 2 -->



                    <!--<div id="map">
                        <div class="mapControlsParent">
                            <div class="mapControlsContainer">
                                <div class="mapZoomContainer">-->
                                    <!--<div style="clear: both; height:5px"></div>-->
                                    <!--<button class="zoomButton" data-zoom="+1">+</button>
                                    <div style="clear: both; height:5px"></div>
                                    <button class="zoomButton" data-zoom="-1">-</button>
                                </div>

                            </div>
                        </div>
                    </div>-->
                    <!-- end map -->

					<!-- Map sub-filters togle buttons (mapSubFiltersContainer) -->
					<!--<div class="mapControlsContainer">
						<div id="selectDistrictType">
							<div id="selectElementary" class="mapButton selectedMapButton">Elementary and Unified</div>
							<div id="selectSecondary" class="mapButton deselectedMapButton">Independent Elementary, Secondary, and Unified</div>
						</div>
					</div>

        </div>-->
                <!-- end mapWrapper -->

                <!--<div>
                  <p class="dataLinksText" style="margin-bottom: 0em;">* <a href="#mapnotes">See map notes</a>. --><!--<a href="#">Download the district level data</a> used in this map.--><!--</p>
                </div>

            </div>-->
            <!-- end innner -->
        <!--</section>-->

        <!-- Three -->

        <section id="three" class="wrapper style1">
            <div class="inner">

                <h2 class="line">Dual Enrollment</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
            </div>
        </section>

        <section id="three_chart" class="wrapper chart">
            <div id="three_sections" class="inner">
                <div class="align-center">
                    <img class="barChart-icon" src="images/barIcon_chartArea.svg" alt="Bar Chart Icon" />
                </div>
                <div style="margin-bottom: 1.5em" class="chart"></div>
                <!--<div id="ch3_1">
                </div>
                <p style="margin-top: 1.5em; margin-bottom: 3.5em;">
                  The vast majority - 77 percent, or more than 3.7 million - of ELs speak Spanish as their primary language at home. Other languages that are commonly spoken at home are Arabic, Chinese, and Vietnamese; about 2 percent of ELs speak each of those languages. About 2 percent of ELs speak English as their primary language at home.
                </p>-->
                <div id="ch3_2"></div>
                <p style="margin-top:1.5em; margin-bottom: 3.5em;">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
            </div>
        </section>

        <!-- Four -->

        <!--<section id="four" class="wrapper style3">
            <div class="inner">

                <h2 class="line">Section 4</h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
            </div>
        </section>-->

        <!--<section id="four_chart" class="wrapper chart">
            <div id="four_sections" class="inner">
                <div class="align-center">
                    <img class="barChart-icon" src="images/barIcon_chartArea.svg" alt="Bar Chart Icon" />
                </div>
                <div style="margin-bottom: 1.5em" class="chart"></div>
                <div id="ch4_1">
                </div>
                <p style="margin-top: 1.5em; margin-bottom: 3.5em;">
                  Almost all ELs in 2014–15 participated in an LIEP. Out of the 4.8 million ELs in 2014–15, 97 percent, or more than 4.6 million, participated in an LIEP. Of those particiating in an LIEP, the vast majority - 78 percent, or 3.6 million, were Hispanic; 11 percent, or about 500,000 were Asian; and 6 percent, or about 270,000 were White. The high percentage of ELs participating in an LIEP suggests that these programs are reaching the intended population.
                </p>
        </section-->
        <!-- Five -->

        <section id="five" class="wrapper style3">
            <div class="inner">
                <h2 class="line">Conclusion</h2>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ultrices augue vel quam egestas, sit amet ultricies est semper. Pellentesque in euismod ipsum. Fusce mi metus, consectetur nec blandit sed, varius sit amet elit. Donec lacinia volutpat sagittis. Donec et neque ut eros lacinia gravida fermentum sit amet leo. In ac ex non mauris fringilla pulvinar. Sed maximus arcu a arcu congue consectetur. Fusce eget pharetra neque. In ultricies ultrices consectetur. Maecenas sit amet magna accumsan, dictum sem vitae, malesuada erat. Maecenas non lectus interdum, tristique felis nec, vehicula ex.
                </p>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ultrices augue vel quam egestas, sit amet ultricies est semper. Pellentesque in euismod ipsum. Fusce mi metus, consectetur nec blandit sed, varius sit amet elit. Donec lacinia volutpat sagittis. Donec et neque ut eros lacinia gravida fermentum sit amet leo. In ac ex non mauris fringilla pulvinar. Sed maximus arcu a arcu congue consectetur. Fusce eget pharetra neque. In ultricies ultrices consectetur. Maecenas sit amet magna accumsan, dictum sem vitae, malesuada erat. Maecenas non lectus interdum, tristique felis nec, vehicula ex.
                </p>

                <div class="socialmedia">
                    <ul class="align-center icons fa-2x" style="margin-bottom:1em;">
                        <li><a href="#" target="_blank" title="Tweet" class="fa-twitter"><span class="label">Twitter</span></a></li>
                        <li><a href="#" target="_blank" title="Share on Facebook" class="fa-facebook"><span class="label">Facebook</span></a></li>
                        <li><a href="#" target="_blank" title="Share on LinkedIn" class="fa-linkedin"><span class="label">LinkedIn</span></a></li>
                        <li><a href="#" target="_blank" title="Email" class="fa-envelope"><span class="label">Email</span></a></li>
                    </ul>
                </div>

            </div>
        </section>

    </div>
    <!-- end wrapper -->
    <!-- Footer -->
    <footer id="footer" class="wrapper style1-alt">
        <div class="inner align-center">
            <h2 id="datanotes" style="font-size:15px; font-weight:bold; margin-top:3.5em;">ENDNOTES</h2>
            <div class="6u$ 12u$(medium) dataExclusion">
                <h3 class="line">Overall Notes</h3>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse aliquam mattis nulla, a semper lectus laoreet ut. Sed faucibus nisi eu mauris dapibus tincidunt. Sed a nulla at orci sagittis ultricies et mattis augue. Vivamus sagittis gravida ultrices. Nulla consectetur vestibulum tellus, ut semper sem iaculis sit amet. Mauris auctor viverra congue. Curabitur viverra sem nec accumsan convallis. Aliquam erat volutpat. Curabitur blandit felis nec porta scelerisque. Quisque massa erat, elementum nec laoreet a, auctor sit amet nunc. Donec posuere, odio sit amet semper tincidunt, nulla arcu tincidunt diam, sit amet tempor eros dui a diam. Duis at dignissim ante. Aliquam erat volutpat. Nulla facilisi.
                </p>
            </div>
            <!--<div class="6u$ 12u$(medium) dataExclusion">
                <h3 id="mapnotes" style="font-size: 15px;" class="line">Map Notes</h3>
                <p>A district might have “null/missing data” indicated on the maps, or may not appear on the maps, if</p>
                <ol>
                    <li>the district has missing EL enrollment, LIEP enrollment, or total student membership;</li>
                    <li>the district has more than 100 percent of its students reported as ELs;</li>
                    <li>the district did not match with the National Center for Education Statistics’ district boundary file; or</li>
                    <li>the data were suppressed for privacy protection (fewer than six students enrolled).</li>
                </ol>
                <p>
                    The map showing the percentages of students who are ELs is based on EL enrollment counts from EDFacts and total student enrollment from the Common Core of Data (CCD). Because of data quality concerns, this map uses Rhode Island’s and Vermont’s school-level EL enrollment aggregated to the LEA-level.
                </p>
                <p>
                    The map showing the percentage change in the number of ELs enrolled in an English language instruction educational program (LIEP) uses publicly available data from the Common Core of Data (CCD). Note that not all ELs are enrolled in LIEP. Illinois and Mississippi have missing data for almost all districts. In addition, because Vermont reports LIEP enrollment only for supervisory unions and such enrollment cannot be attributed to districts, the map suggests Vermont has no ELs in LIEP. However, because of the way Vermont reports its data, the percentage change in LIEP cannot be calculated.
                </p>
                <p>
                    On the maps, the label <strong>“Elementary”</strong> includes all school districts that are financially responsible for providing education only to children in the elementary grades. Some elementary school districts share territory with one or more secondary school districts. The label <strong>“Independent Elementary”</strong> refers to those elementary school districts that are geographically independent of other school districts.
                </p>
                <p>
                    The label <strong>“Secondary”</strong> includes all school districts that are financially responsible for providing education only to children in grades above the elementary grades. This includes pseudo-secondary school districts created by the U.S. Census Bureau.
                </p>
                <p>
                    The label <strong>“Unified”</strong> refers to districts that provide education to children of all school ages. In general, where there is a unified school district, no elementary or secondary school district exists.
                </p>
            </div>
            <div class="6u$ 12u$(medium) dataExclusion">
                <h3 style="font-size: 15px;" class="line">References</h3>
                <p>
                    <sup>1</sup> U.S. Department of Education, Office of English Language Acquisition, National Clearinghouse for English Language Acquisition. February 2017. <em>Profiles of English Learners (ELs)</em>. <a href="http://www.ncela.us/files/fast_facts/05-19-2017/ProfilesOfELs_FastFacts.pdf" target="_blank">http://www.ncela.us/files/fast_facts/05-19-2017/ProfilesOfELs_FastFacts.pdf</a>. Retrieved June 9, 2017.
                </p>
                <p>
                    <sup>2</sup> Batalova, Jeanne and Margie McHugh. 2009. <em>Top Languages Spoken by English Language Learners Nationally and by State</em>. Washington, D.C.: Migration Policy Institute. <a href="http://www.migrationpolicy.org/sites/default/files/publications/FactSheet%20ELL3%20-%20FINAL.pdf" target="_blank">http://www.migrationpolicy.org/sites/default/files/publications/FactSheet%20ELL3%20-%20FINAL.pdf</a>. Retrieved June 9, 2017.
                <p>
                    Ruiz Soto, Ariel G., Sarah Hooker, and Jeanne Batalova. 2015. <em>Top Languages Spoken by English Language Learners Nationally and by State</em>. Washington, D.C.: Migration Policy Institute. <a href="http://www.migrationpolicy.org/sites/default/files/publications/ELLFact%20Sheet-No4.pdf" target="_blank">http://www.migrationpolicy.org/sites/default/files/publications/ELLFact%20Sheet-No4.pdf</a>. Retrieved June 9, 2017.
                </p>
            </div>
            <div class="6u$ 12u$(medium) dataExclusion">
                <h3 style="font-size: 15px;" class="line">Sources</h3>
                <p>
                    <sup>a</sup> U.S. Department of Education, EDFacts Data Warehouse (EDW), 2014–15. SEA File C141, LEP Enrolled. Extracted April 3, 2017.
                </p>
                <p>
                    <sup>b</sup> U.S. Department of Education, National Center for Education Statistics, Common Core of Data (CCD), "State Nonfiscal Survey of Public Elementary/Secondary Education," 2014–15. Downloaded April 10, 2017 from <a href="https://nces.ed.gov/ccd/stnfis.asp" target="_blank">https://nces.ed.gov/ccd/stnfis.asp</a>.
                <p>
                    <sup>c</sup> U.S. Department of Education, Digest of Education Statistics, 2016, Table 203.70, Percentage distribution of enrollment in public elementary and secondary schools, by race/ethnicity and state or jurisdiction: Fall 2004 and fall 2014. Downloaded September 19, 2017 from <a href="https://nces.ed.gov/programs/digest/d16/tables/dt16_203.70.asp" target="_blank">https://nces.ed.gov/programs/digest/d16/tables/dt16_203.70.asp</a>.
                </p>
                <p>
                    <sup>d</sup> U.S. Department of Education, National Center for Education Statistics, Common Core of Data (CCD), "Local Education Agency (School District) Universe Survey Data," 2014–15. Downloaded April 10, 2017 from <a href="https://nces.ed.gov/ccd/pubagency.asp" target="_blank">https://nces.ed.gov/ccd/pubagency.asp</a>.
                </p>
            </div>-->
        </div>

    </footer>

    <!-- Charts -->

    <script>

        // charts

        d3.tsv("assets/data/data.tsv", function (error, data) {
            if (error) { console.log(error); }
            else {
                data.forEach(function (d) {
                    d.chart = d.chart;
                    d.subchart = +d.subchart;
                    d.level = d.level;
                    d.group = d.group;
                    d.num = +d.num;
                    d.pct = +d.pct;
                    d.group1_p = +d.group1_p;
                    d.group2_p = +d.group2_p;
                    d.diff_ppt = +d.diff_ppt;
                    d.group1_n = +d.group1_n;
                    d.group2_n = +d.group2_n;
                    d.order = +d.order;
                    d.definition = d.definition;
                });

                data1_1 = data.filter(function(d) { return d.chart == "1-1"; });
                data1_2 = data.filter(function(d) { return d.chart == "1-2"; });
                data1_3 = data.filter(function(d) { return d.chart == "1-3"; });
                data1_4 = data.filter(function(d) { return d.chart == "1-4"; });

                var chart1_1 = divergingBar().data(data1_1).marginLeft(300).containerID("one_chart").subcontainerID("one_sections").sectionID("ch1_1").chartID("chart1_1")
                  .group1("ELs").group2("Non-ELs").xAxisLabel("% OF ELS AND NON-ELS IN 2013–14")
                  .title("In 2013–14, ELs were more likely to be enrolled in schools in districts offering preschool programs.")
                  .altText("This chart displays the percentage of English Learners and non-English learners enrolled in districts by type of preschool offered by the district.");
                var chart1_2 = colChart().data(data1_2).containerID("one_chart").subcontainerID("one_sections").sectionID("ch1_2").chartID("chart1_2")
                  .yAxisLabel("% OF PRESCHOOL-AGED CHILDREN")
                  .title("Preshool-aged ELs were less likely to be enrolled in preschool than preschool-aged non-ELs.")
                  .altText("This chart displays the percentage of preschool-aged English Learners and non-English Learners enrolled in preschool.");
                var chart1_3 = divergingBar().data(data1_3).marginLeft(300).containerID("one_chart").subcontainerID("one_sections").sectionID("ch1_3").chartID("chart1_3")
                  .group1("ELs").group2("Non-ELs").xAxisLabel("% OF EL AND NON-EL PRESCHOOLERS IN 2013–14")
                  .title("In 2013–14, similar percentages of EL and non-EL preschoolers were enrolled in districts offering free and full-day preschool.")
                  .altText("This chart displays the percentage of English Learners and non-English learners enrolled in districts by type of preschool offered by the district.");
                var chart1_4 = dotTwo().data(data1_4).marginLeft(340).containerID("one_chart").subcontainerID("one_sections").sectionID("ch1_4").chartID("chart1_4")
                  .group1("ELs").group2("Non-ELs").xAxisLabel("% OF PRESCHOOLERS ENROLLED IN 2013–14")
                  .title("In 2013–14, ELs were about 12 percent of the total preschoolers enrolled, but only 4 percent of the preschoolers enrolled in districts offering preschool at cost only.")
                  .altText("This chart displays the percentage of preschoolers enrolled who were English Learners and non-English learners by types of preschool offered by the district.");

                d3.select("#ch1_1").call(chart1_1);
                d3.select("#ch1_2").call(chart1_2);
                d3.select("#ch1_3").call(chart1_3);
                d3.select("#ch1_4").call(chart1_4);
                /*d3.select("#ch2_1").call(chart2_1);
                d3.select("#ch2_2").call(chart2_2);
                d3.select("#ch3_1").call(chart3_1);*/

            };
        });

    </script>

    <!-- Stacked bar chart -->

    <!--<script>

        d3.tsv("assets/data/stacked_data.tsv", function (error, data) {
            if (error) { console.log(error); }
            else {
                data.forEach(function (d) {
                    d.order = +d.order,
                    d.lang1_p = +d.lang1_p,
                    d.lang2_p = +d.lang2_p,
                    d.lang3_p = +d.lang3_p,
                    d.lang4_p = +d.lang4_p,
                    d.lang5_p = +d.lang5_p,
                    d.lang6_p = +d.lang6_p,
                    d.lang7_p = +d.lang7_p,
                    d.lang1_n = +d.lang1_n,
                    d.lang2_n = +d.lang2_n,
                    d.lang3_n = +d.lang3_n,
                    d.lang4_n = +d.lang4_n,
                    d.lang5_n = +d.lang5_n,
                    d.lang6_n = +d.lang6_n,
                    d.lang7_n = +d.lang7_n;
                });

                var stacked1 = stackedBar().data(data).marginLeft(130).containerID("three_chart").subcontainerID("three_sections").sectionID("ch3_2").chartID("chart3_2")
                  .title("Although Spanish was the most commonly spoken language among ELs in most states, there was a wide variety of languages spoken by ELs across the states.")
                  .altText("This chart displays the five most commonly spoken non-English languages among English Learner (EL) students by state.")
                  .source("U.S. Department of Education, EDFacts Data Warehouse (EDW), 2014–15. SEA File C141, LEP Enrolled. Extracted April 3, 2017. National data from U.S. Department of Education, Digest of Education Statistics, 2016 downloaded from <a href='https://nces.ed.gov/programs/digest/d16/tables/dt16_204.27.asp'>https://nces.ed.gov/programs/digest/d16/tables/dt16_204.27.asp</a>.");

                d3.select("#ch3_2").call(stacked1);

            }
        });

    </script>-->

    <!-- Sankey chart -->
    <!--<script>

      d3.tsv("assets/data/sankey_data.tsv", function (error, data) {
        if (error) { console.log(error); }
        else {
          data.forEach(function (d) {
            d.source = d.source;
            d.target = d.target;
            d.value = +d.value;
          });

          var sankey1 = sankeyChart().data(data).containerID("four_chart").subcontainerID("four_sections").sectionID("ch4_1").chartID("chart4_1")
                    .title("Almost all ELs participate in an LIEP, and the majority of those participating are Hispanic.")
                    .altText("This chart displays the number of English Learners participating in Langauge Instructional Education Programs, and, of those students, the number from each racial/ethnic category.");

          d3.select("#ch4_1").call(sankey1);

      }});

    </script>-->
    <!-- Map scripts -->
    <!--<script>
        $(".legend").css("display", "none");

        //  D3 MAP
        var width = 960;
        var height = 500;
        var center = [width / 2, height / 2];
        var defaultFill = "#E6E6E6";
        var numberFormat = d3.format("0,000");

        var projection = d3.geo.albersUsa()
                .translate([width / 2, height / 2])
                .scale(1000);
        var zoom = d3.behavior.zoom()
                .scaleExtent([1, 32])
                .on("zoom", move);

        var path = d3.geo.path()
                .projection(projection);

        var svg = d3.select("#map").append("svg")
            .attr("preserveAspectRatio", "xMinYMin meet")
            .attr("viewBox", "0 0 " + width + " " + height)
            .classed("svg-content-responsive", true)
            .append("g");

        var g = svg.append("g");

        d3.select("#map > svg").call(zoom).call(zoom.event);

        var tooltip = d3.select("body").append("div")
            .attr("class", "districtTooltip")
            .style("opacity", 0)
            .style('top', '0px')
            .style('left', '0px');

        queue()
                .defer(d3.json, "assets/data/states.json")
                .defer(d3.json, "assets/data/elementary.json")
                .defer(d3.json, "assets/data/secondary.json")
                .defer(d3.json, "assets/data/extradistricts.json")
                .await(ready);

        svg.on("wheel.zoom", null);
        svg.on("mousewheel.zoom", null);

        function ready(error, us, primary, secondary, extra) {
            if (error) {
                console.log(error);
            }
            g.attr("cursor", "pointer");

            showLoader(function() {
                drawDistricts('elementary', primary, primary.objects.medium_G5420_G5400);
                drawDistricts('extra', extra, extra.objects.extra_districts);
                drawStates(us, us.objects.states);
                $('.legend').show();
                resizeLegend();
            });


            d3.select('#englishLearnersButton').on('click', function () {
                drawEnglishLearners();
            });

            d3.select('#percentChangeButton').on('click', function () {
                drawPercentChange();
            });

            d3.select("#selectElementary").on("click", function () {
                d3.selectAll('.secondary').remove();
                $("#selectSecondary").removeClass('selectedMapButton').addClass('deselectedMapButton');
                $(this).removeClass('deselectedMapButton').addClass('selectedMapButton');
            });

            var legendButtons = $('.legendButton');

            d3.select("#selectSecondary").on("click", function () {
                drawDistricts('secondary', secondary, secondary.objects.medium_G5410);
                var highlightedLegendButton = legendButtons.filter('.highlightButton');
                if(highlightedLegendButton.length > 0) {
                    var buttonValue = highlightedLegendButton.attr("data-value");
                    var colorFunc = getColorFunc();
                    svg.selectAll(".secondary")
                        .attr("fill", function (d) {
                            if (buttonValue === colorFunc(d)) {
                                return buttonValue;
                            }
                            else {
                                return "#E6E6E6";
                            }
                        });
                }
                $("#selectElementary").removeClass('selectedMapButton').addClass('deselectedMapButton');
                $(this).removeClass('deselectedMapButton').addClass('selectedMapButton');
            });

            legendButtons.on("click", function () {
                var colorFunc = getColorFunc();
                if ($(this).hasClass("highlightButton")) {
                    legendButtons.each(function () {
                        $(this).css("border", 0);
                        $(this).removeClass("highlightButton");
                    });
                    svg.selectAll('.district').attr('fill', colorFunc);
                }
                else {
                    legendButtons.each(function () {
                        $(this).css("border", 0);
                        $(this).removeClass("highlightButton");
                    });
                    $(this).addClass("highlightButton");
                    var buttonValue = $(this).attr("data-value");
                    svg.selectAll(".district")
                        .attr("fill", function (d) {
                            if (buttonValue === colorFunc(d)) {
                                return buttonValue;
                            }
                            else {
                                return "#E6E6E6";
                            }
                        });
                }
            });
        }

        function drawDistricts(id, topology, object) {
            var colorFunc = getColorFunc();
            g.append("g")
                .selectAll("path")
                .data(topojson.feature(topology, object).features)
                .enter().append("path")
                .attr("class", function(d) {
                    return id + " district";
                })
                .attr("d", path)
                .attr("stroke", "#fff")
                .attr("stroke-opacity", .15)
                .attr("stroke-linejoin", "round")
                .attr("fill", colorFunc)
                .on("mouseover", function (d) {
                    createTooltip(this, d);
                })
                .on("mouseout", function () {
                    d3.select(this).attr("stroke", "#fff")
                        .attr("stroke-opacity", .15);
                    d3.select(this).classed("selected", false);
                    tooltip.transition().duration(300).style("opacity", 0);
                });
        }

        function drawStates(topology, object) {
            g.append("g")
                .attr("class", "states")
                .selectAll("path")
                .data(topojson.feature(topology, object).features)
                .enter().append("path")
                .attr("class", "state")
                .attr("d", path);
        }


        function showLoader(fn) {
            $('.loader').show();
            setTimeout(function () {
                fn();
                $('.loader').hide();
            }, 100);
        }

        function drawEnglishLearners() {
            $('#englishLearnersButton').removeClass('deselectedMapButton').addClass('selectedMapButton');
            $('#percentChangeButton').removeClass('selectedMapButton').addClass('deselectedMapButton');
            $('.legend').hide();
            showLoader(function () {
                svg.selectAll('.district').attr('fill', colorByGroup);
                $('.legend').show();
                resizeLegend();
            });
        }

        function drawPercentChange() {
            $('#englishLearnersButton').removeClass('selectedMapButton').addClass('deselectedMapButton');
            $('#percentChangeButton').removeClass('deselectedMapButton').addClass('selectedMapButton');
            $('.legend').hide();
            showLoader(function () {
                svg.selectAll('.district').attr('fill', colorByPercentChange);
                $('.legend').show();
                resizeLegend();
            });
        }

        function getMapMode() {
            if (d3.select('#englishLearnersButton').classed('selectedMapButton')) {
                return 'percent';
            }
            else {
                return 'percentChange';
            }
        }

        function getColorFunc() {
            if (getMapMode() === 'percent') {
                return colorByGroup;
            }
            else {
                return colorByPercentChange;
            }
        }

        function createTooltip(currentDistrict, d) {
            d3.select(currentDistrict).attr("stroke", "#1A1C20")
                    .attr("stroke-opacity", 1);
            d3.select(currentDistrict).classed("selected", true);

            tooltip.transition().duration(100)
                    .style("opacity", 1)
                    .style("top", (d3.event.pageY - 100) + "px");

            var windowWidth = $(window).width();
            if (windowWidth > 1024) {
                if (d3.event.pageX > 1000) {
                    tooltip.style("left", (d3.event.pageX - 320) + "px");
                } else {
                    tooltip.style("left", (d3.event.pageX + 80) + "px");
                }
            }
            if (windowWidth < 1024 && windowWidth > 850) {
                if (d3.event.pageX > 400) {
                    tooltip.style("left", (d3.event.pageX - 320) + "px");
                } else {
                    tooltip.style("left", (d3.event.pageX + 80) + "px");
                }
            }
            if (windowWidth < 850) {
                if (d3.event.pageX > 350) {
                    tooltip.style("left", (d3.event.pageX - 320) + "px");
                } else {
                    tooltip.style("left", (d3.event.pageX + 40) + "px");
                }
            }
            if (windowWidth < 680) {
                if (d3.event.pageX > 350) {
                    tooltip.style("left", (d3.event.pageX - 320) + "px");
                } else {
                    tooltip.style("left", (d3.event.pageX + 20) + "px");
                }
            }

            var state = d.properties['State'];
            if (state === null) state = 'NO DATA';
            var name = d.properties['District'];
            if (name === null) name = "NO DATA";

            if (getMapMode() === 'percent') {
                var category = d.properties['Category'];
                if (category === 100) {
                    tooltip.html(
                        "<h3>" + state.toUpperCase() + "</h3>" +
                        "<hr>" +
                        "<h3>No Operating District</h3>"
                    );
                }
                else {
                    var numberOfELs = d.properties['Number of ELs'];
                    numberOfELs = formatNumber(numberOfELs);
                    var totalNumberOfStudents = d.properties['Total number of students'];
                    totalNumberOfStudents = formatNumber(totalNumberOfStudents);
                    var percentEL = d.properties['% of students who are English Learners'];
                    percentEL = formatPercent(percentEL);

                    tooltip.html(
                        "<h3>" + state.toUpperCase() + "</h3><hr>" +
                        "<h4>" + name + "</h4><hr>" +
                        "<div>Number of ELs: " + numberOfELs + "</div>" +
                        "<div>Total number of students: " + totalNumberOfStudents + "</div>" +
                        "<div>% of students who are English Learners: " + percentEL + "</div>"
                    );
                }
            }
            else {
                var category = d.properties['Change as % of 2009-10, categorized'];

                if(category === 100) {
                    tooltip.html(
                        "<h3>" + state.toUpperCase() + "</h3>" +
                        "<hr>" +
                        "<h3>No Operating District</h3>"
                    );
                }
                else {
                    var liep09 = d.properties['LIEP09'];
                    liep09 = formatNumber(liep09);
                    var liep14 = d.properties['LIEP14'];
                    liep14 = formatNumber(liep14);
                    var change = d.properties['Change from 2009-10 to 2014-15'];
                    var changePercent = d.properties['Change as % of 2009-10'];

                    if (category === 101) {
                        if(change === null) change = 'NO DATA';
                        else change = formatNumber(change);

                        if (changePercent === null) changePercent = 'NO DATA';
                        else changePercent = changePercent + '%';
                    }
                    else if (category === 0) {
                        if(change === null) change = 'Few or no ELs';
                        else change = formatNumber(change);

                        if (changePercent === null) changePercent = 'Few or no ELs';
                        else changePercent = changePercent + '%';
                    }
                    else {
						change = formatNumber(change);

						if (category === 1) {
							changePercent = changePercent + '%';
						}
						else {
							changePercent = formatPercent(changePercent);
						}
					}

                    tooltip.html(
                        "<h3>" + state.toUpperCase() + "</h3><hr>" +
                        "<h4>" + name + "</h4><hr>" +
                        "<div>Number of ELs in LIEP, 2009–10: " + liep09 + "</div>" +
                        "<div>Number of ELs in LIEP, 2014–15: " + liep14 + "</div>" +
                        "<div>Change from 2009–10 to 2014–15: " + change + "</div>" +
                        "<div>Change as % of 2009–10: " + changePercent + "</div>"
                    );
                }
            }
        }

        function formatNumber(n) {
            if (n === null) {
                return 'NO DATA';
            }
            else {
                return numberFormat(n);
            }
        }

        function formatPercent(p) {
            if (p === null) {
                return 'NO DATA';
            }

            var rounded = Math.round(p * 10) / 10;
            // JS rounds negative values that have the exact decimal of .5 up instead of down,
            // i.e. -1.35 rounds to -1.3 instead of -1.4
            if(p < 0) {
                rounded = Math.round(Math.abs(p) * 10) / 10 * -1;
            }

            if(rounded === 0 && p < .1 && p > 0) {
                return '<0.1%';
            }
            else if(rounded === 0 && p > -.1 && p < 0) {
                return '>-0.1%';
            }
            else {
                return rounded + '%';
            }
        }

        function resizeLegend() {
            var legend;
            $('.legend').hide();
            if (getMapMode() === 'percent') {
                legend = $('#percentLegend');
            }
            else {
                legend = $('#percentChangeLegend');
            }
            legend.show();
            var totalDistricts = svg.selectAll('.district').size();
            var nullDistricts = svg.selectAll('[fill="gray"]').size();
            var noELDistricts = svg.selectAll('[fill="#404040"]').size();
            totalDistricts -= nullDistricts + noELDistricts;
            var legendButtons = legend.find('.legendButton');
            legendButtons.each(function () {
                var buttonValue = $(this).attr("data-value");
                var valueSize = svg.selectAll('[fill="' + buttonValue + '"]').size();
                var width = (valueSize / totalDistricts) * 100;
                if (getMapMode() === 'percent' && $(this).hasClass("null")) {
                    width = width * 6;
                }
                else if (getMapMode() === 'percentChange' && $(this).hasClass("null")) {
                    width = valueSize / (nullDistricts + noELDistricts) * 100;
                }
                $(this).css("width", (width) + '%');
            });
        }

        function colorByGroup(d) {
            switch (d.properties['Category']) {
                case 1: return '#9e9ac8';
                case 2: return '#756bb1';
                case 3: return '#54278f';
                case 4: return '#340d67';
                default: return 'gray';
            }
        }

        function colorByPercentChange(d) {
            var percentChange = d.properties['Change as % of 2009-10, categorized'];

            switch (percentChange) {
                case -4: return '#08519c';
                case -3: return '#6baed6';
                case -2: return '#c6dbef';
                case 0: return '#404040';
                case 1: return '#9e9ac8';
                case 2: return '#756bb1';
                case 3: return '#54278f';
                case 4: return '#340d67';
            }
            return 'gray';
        }

        function interpolateZoom(translate, scale) {
            var self = this;
            return d3.transition().duration(350).tween("zoom", function () {
                var iTranslate = d3.interpolate(zoom.translate(), translate),
                        iScale = d3.interpolate(zoom.scale(), scale);
                return function (t) {
                    zoom
                            .scale(iScale(t))
                            .translate(iTranslate(t));
                    move();
                };
            });
        }

        function zoomClick() {
            var clicked = d3.event.target,
                    direction = 1,
                    factor = 0.2,
                    target_zoom = 1,
                    center = [width / 2, height / 2],
                    extent = zoom.scaleExtent(),
                    translate = zoom.translate(),
                    translate0 = [],
                    l = [],
                    view = { x: translate[0], y: translate[1], k: zoom.scale() };
            d3.event.preventDefault();
            direction = this.getAttribute("data-zoom");
            target_zoom = zoom.scale() * (1 + factor * direction);

            if (target_zoom < extent[0] || target_zoom > extent[1]) {
                return false;
            }

            translate0 = [(center[0] - view.x) / view.k, (center[1] - view.y) / view.k];
            view.k = target_zoom;
            l = [translate0[0] * view.k + view.x, translate0[1] * view.k + view.y];

            view.x += center[0] - l[0];
            view.y += center[1] - l[1];

            interpolateZoom([view.x, view.y], view.k);
        }

        function move() {
            d3.selectAll(".state").attr("stroke-width", resizeStateBorder());
            g.style("stroke-width", 1 / zoom.scale())
                    .attr("transform", "translate(" + zoom.translate() + ")scale(" + zoom.scale() + ")");
        }

        function resizeStateBorder() {
            var z = zoom.scale();
            return (z > 7) ? .25 :
                    (z > 4) ? .5 :
                            1
        }

        d3.selectAll(".zoomButton[data-zoom]").on("click", zoomClick);
        d3.select(self.frameElement).style("height", height + "px");

    </script>-->

</body>
</html>
